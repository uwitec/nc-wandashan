/***************************************************************\
 *     The skeleton of this class is generated by an automatic *
 * code generator for NC product. It is based on Velocity.     *
\***************************************************************/
package nc.vo.zb.bidding;
	
import java.util.HashSet;
import java.util.Set;

import nc.vo.pub.BusinessException;
import nc.vo.pub.SuperVO;
import nc.vo.pub.ValidationException;
import nc.vo.scm.pu.PuPubVO;
import nc.vo.zb.pub.ZbPubConst;
import nc.vo.zb.pub.ZbPubTool;
	
/**
 * <b> 在此处简要描述此类的功能 </b>
 * <p>
 *     在此处添加此类的描述信息
 * </p>
 * 创建日期:2011-04-28 16:51:42
 * @author Administrator
 * @version NCPrj 1.0
 */
@SuppressWarnings("serial")
public class SmallBiddingBodyVO extends SuperVO {

	private String cbiddingid;
	private String cbiddingbid;//子表主键
	private String cinvbasid;//存货基本ID
	private String invcode;//品种编码
	private String invname;//品种名称
	private String cinvmanid;//存货管理ID
	private String ts;//校验数据是否同步
//	private Integer ibillstatus
	
	private static final transient String foumulor_code = "invcode ->getColValue(bd_invbasdoc,invcode,pk_invbasdoc,cinvbasid)";
	private static final transient String foumulor_name = "invname ->getColValue(bd_invbasdoc,invname,pk_invbasdoc,cinvbasid)";
	private static final transient String[] invids = new String[]{"cinvbasid"};
	public void  setInvCodeAndName() throws BusinessException{
		if(PuPubVO.getString_TrimZeroLenAsNull(cinvbasid) == null)
			return;
		setInvcode(ZbPubTool.getString_NullAsTrimZeroLen(ZbPubTool.execFomularClient(foumulor_code, invids, new String[]{getCinvbasid()})));
		setInvname(ZbPubTool.getString_NullAsTrimZeroLen(ZbPubTool.execFomularClient(foumulor_name, invids, new String[]{getCinvbasid()})));
	}
	
	public static void checkIsInClass(SmallBiddingBodyVO[] bodys) throws ValidationException{
		if(bodys == null || bodys.length == 0)
			return;
		Set<String> scode  = new HashSet<String>();
		for(SmallBiddingBodyVO body:bodys){
			scode.add(body.getInvcode().substring(0, ZbPubConst.inv_class_coderule));
		}
		if(scode.size()>1)
			throw new ValidationException("品种不属于同一大类不能进入同一标书");
	}
	
 
	public String getTs() {
		return ts;
	}


	public void setTs(String ts) {
		this.ts = ts;
	}


	public String getInvcode() {
		return invcode;
	}

	public void setInvcode(String invcode) {
		this.invcode = invcode;
	}

	public String getInvname() {
		return invname;
	}

	public void setInvname(String invname) {
		this.invname = invname;
	}

	public String getCbiddingid() {
		return cbiddingid;
	}

	public void setCbiddingid(String cbiddingid) {
		this.cbiddingid = cbiddingid;
	}

	public String getCbiddingbid() {
		return cbiddingbid;
	}

	public void setCbiddingbid(String cbiddingbid) {
		this.cbiddingbid = cbiddingbid;
	}

	public String getCinvbasid() {
		return cinvbasid;
	}

	public void setCinvbasid(String cinvbasid) {
		this.cinvbasid = cinvbasid;
	}

//	public UFDouble getNzbnum() {
//		return nzbnum;
//	}
//
//	public void setNzbnum(UFDouble nzbnum) {
//		this.nzbnum = nzbnum;
//	}
//
//	public String getCinvclid() {
//		return cinvclid;
//	}
//
//	public void setCinvclid(String cinvclid) {
//		this.cinvclid = cinvclid;
//	}

	public String getCinvmanid() {
		return cinvmanid;
	}

	public void setCinvmanid(String cinvmanid) {
		this.cinvmanid = cinvmanid;
	}

	/**
	  * <p>取得父VO主键字段.
	  * <p>
	  * 创建日期:2011-04-28 16:51:42
	  * @return java.lang.String
	  */
	public java.lang.String getParentPKFieldName() {
		return "cbiddingid";
	}   
    
	/**
	  * <p>取得表主键.
	  * <p>
	  * 创建日期:2011-04-28 16:51:42
	  * @return java.lang.String
	  */
	public java.lang.String getPKFieldName() {
	  return "cbiddingbid";
	}
    
	/**
	 * <p>返回表名称.
	 * <p>
	 * 创建日期:2011-04-28 16:51:42
	 * @return java.lang.String
	 */
	public java.lang.String getTableName() {
		return "zb_bidding_b";
	}    
    
    /**
	  * 按照默认方式创建构造子.
	  *
	  * 创建日期:2011-04-28 16:51:42
	  */
     public SmallBiddingBodyVO() {
		super();	
	}    
     
   
} 
